<!doctype html>
<html>
<head>
	<title></title>
	<style type="text/css">
	.test1 { 
		position:absolute;
		top:50%;
		left:20%;
		margin-left: -100px;
		margin-top: -100px;
		width: 200px;
		height: 200px;
		background-color: red;
    transform: rotate(30deg);
    -webkit-transform: rotate(30deg);
	}
	.test2 { 
		position:absolute;
		top:50%;
		right:20%;
		margin-left: -100px;
		margin-top: -100px;
		width: 200px;
		height: 200px;
		background-color: red;
    transform: rotate(30deg);
    -webkit-transform: rotate(30deg);
	}
	</style>
</head>
<body>
<div class="test1"></div>
<div class="test2"></div>
<div class="test2" style="top:80%"></div>
<script type="text/javascript" src="jquery-min.js"></script>
<script type="text/javascript" src="motion.js"></script>
<script type="text/javascript">
$(function(){
	var deg1 = 30, deg2 = 30, wid1 = 200, wid2 = 200,add1 = true, add2 = true, t = (new Date()).getTime(), _t;
	setInterval(function(){
		deg1 += 10;
		if(wid1 < 300 && add1){
			wid1 += 1;
		}else if(wid1 >= 300){
			add1 = false;
			wid1 -= 1;
		}else if(wid1 <= 100){
			add1 = true;
			wid1 += 1;
		}else{
			wid1 -= 1;
		}
		_t = (new Date()).getTime();
		console.log(_t - t);
		t = _t;
		$('.test1').css({
			'transform': 'rotate('+ deg1 +'deg)',
			width: wid1 + 'px',
			height: wid1 + 'px',
			'margin-top': -wid1 / 2 + 'px',
			'margin-left': -wid1 / 2 + 'px'
		});
	}, 12);
	setInterval(function(){
		deg2 += 10;
		if(wid2 < 300 && add2){
			wid2 += 1;
		}else if(wid2 >= 300){
			add2 = false;
			wid2 -= 1;
		}else if(wid2 <= 100){
			add2 = true;
			wid2 += 1;
		}else{
			wid2 -= 1;
		}
		$('.test2').css({
			'transform': 'rotate('+ deg2 +'deg)',
			width: wid2 + 'px',
			height: wid2 + 'px',
			'margin-top': -wid2 / 2 + 'px',
			'margin-left': -wid2 / 2 + 'px'
		});
		$('.test2').css({'transform': 'rotate('+ deg2 +'deg)'});
	}, 18);
})

</script>
</body>
</html>