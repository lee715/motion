// Generated by CoffeeScript 1.6.3
(function() {
  define(['./track/track', './promise/type', './css/handler'], function(Track, type, Css) {
    var motion;
    $.fn.motion = function(css, track, opts) {
      return motion([css, this], track, opts);
    };
    motion = function(step, track, opts) {
      var ctl;
      if (!type('function', step)) {
        step = Css.apply(Css, step);
      }
      if (step) {
        ctl = Track.get(track, opts).promise();
        ctl.on('progress', step).on('done', function() {
          return console.log('is done now');
        });
        return ctl;
      }
    };
    return motion;
  });

}).call(this);
