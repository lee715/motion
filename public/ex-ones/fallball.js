// Generated by CoffeeScript 1.6.3
(function() {
  define(['../graphic/factory', '../track/mix'], function(F, M) {
    return F["class"]('fallball', function(t, times, decay) {
      this.t = t;
      this.times = times;
      this.decay = decay || 0.9;
      this.a = -10;
      this.b = 10 * t * times;
      this.reverse = false;
      this.isEnded = false;
      return this;
    }, {
      endType: 'upspring',
      upspring: function() {
        var dc;
        dc = this.decay;
        if (this.reverse) {
          this.b *= dc;
          this.t *= dc;
          if (this.t < 0.01) {
            this.isEnded = true;
          }
        }
        return this.reverse = !this.reverse;
      },
      getX: function(x) {
        if (this.reverse) {
          x = this.t - x;
        }
        x *= this.times;
        return x;
      }
    }, 'line');
  });

}).call(this);
